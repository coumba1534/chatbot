{% load static %}

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
    <link rel="stylesheet" href="{% static 'css/chatbot.css' %}">
</head>
<body>
   

    <!-- Menu latéral -->
    <div id="side-panel" class="side-panel">
        <button class="new-chat-btn">+ Nouvelle discussion</button>
        <ul>
            <li><a href="{% url 'afficher_historique' %}">Consulter historique</a></li>
            <li>Paramètres</li>
        </ul>
    </div>
    
    <div id="menu" class="menu">
        <div class="menu-icon" onclick="toggleSidePanel()">&#9776;</div>
    </div>

    <!-- En-tête -->
    <header class="header">
        <h1>Chatbot</h1>
        <img src="{% static 'img/avatar.png' %}" alt="Avatar" class="avatar" id="avatar">
    </header>

    <!-- Menu utilisateur (affiché au clic sur l'avatar) -->
    <div id="profile-menu" class="profile-menu">
        <ul>
            <li><a href="{% url 'edit_profile' %}">Mon Profil</a></li>
            <li><a href="#">Se Déconnecter</a></li>
        </ul>
    </div>
    
    <div id="main-content" class="main-content">
        <!-- Zone de messages -->
        <div id="chat-box" class="chat-box">
            <!-- Messages générés dynamiquement ici -->
        </div>

        <!-- Champ de saisie et bouton -->
        <div class="input-container">
            <input type="text" id="user-input" placeholder="Posez-moi une question...">
            <button id="send-btn" onclick="sendMessage()">&#8593;</button>
        </div>
    </div>    

    <script src="{% static 'js/chatbot.js' %}"></script>
    <script src="/static/js/menu.js" defer></script>
    
</body>
</html>







<!-- 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chatbot</title>
</head>
<body>
    <h1>Chatbot</h1>
    <div id="chat">
        <div id="messages"></div>
        <input type="text" id="messageInput" placeholder="Tapez un message...">
        <button onclick="sendMessage()">Envoyer</button>
    </div>

    <script>
        const chatSocket = new WebSocket('ws://' + window.location.host + '/ws/chatbot/');

        chatSocket.onmessage = function(e) {
            const data = JSON.parse(e.data);
            document.getElementById('messages').innerHTML += '<p>Bot: ' + data.reply + '</p>';
        };

        function sendMessage() {
            const messageInput = document.getElementById('messageInput');
            const message = messageInput.value;
            chatSocket.send(JSON.stringify({ 'message': message }));
            document.getElementById('messages').innerHTML += '<p>Vous: ' + message + '</p>';
            messageInput.value = '';
        }
    </script>
</body>
</html> -->









